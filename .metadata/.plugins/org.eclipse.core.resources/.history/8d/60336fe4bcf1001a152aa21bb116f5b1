package com.practice.spring.repository;

import org.junit.jupiter.api.Test;
import org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;

import com.practice.spring.model.Ticket;

@DataJpaTest
public class TicketRepositoryTest {
	
	@Test
	public void testGetTicketById() {
		Ticket ticket=this.getTicket1();
		Ticket saved=entityManager.persist(ticket);
		Ticket retrive=ticketBookingDao.findById(saved.getTicketId()).orElse(null);
		assertEquals(saved, retrive);
	}
	
	// Temporary Ticket Objects
		private Ticket getTicket1() {
			Ticket ticket=new Ticket();
			ticket.setPassengerName("Sean Murphy");
			ticket.setSourceStation("Delhi");
			ticket.setDestStation("Mumbai");
			ticket.setBookingDate(LocalDate.now());
			ticket.setEmail("sean.s2006@gmail.com");
			return ticket;
		}
		
		private Ticket getTicket2() {
			Ticket ticket=new Ticket();
			ticket.setPassengerName("gyanendra");
			ticket.setSourceStation("pithampur");
			ticket.setDestStation("indore");
			ticket.setBookingDate(LocalDateTime.now());
			ticket.setEmail("gyanendra@email.com");
			return ticket;
		}

}
